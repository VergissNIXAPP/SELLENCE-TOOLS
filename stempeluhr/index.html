<!doctype html>
<html lang='de'>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1, viewport-fit=cover'>
  <meta name='theme-color' content='#0b1220'>
  <title>SELLENCE Stempeluhr</title>
  <link rel='manifest' href='manifest.json'>
  <link rel='apple-touch-icon' href='assets/icon-192.png'>
  <link rel='icon' type='image/png' sizes='192x192' href='assets/icon-192.png'>
  <link rel='icon' type='image/png' sizes='512x512' href='assets/icon-512.png'>
  <link rel='stylesheet' href='styles.css'>
</head>
<body>
  <div class='app'>
    <header class='top'>
      <div class='topGrid'>
        <a id='backTools' class='iconBtn backBtn' href='../index.html' aria-label='Zurueck zu Tools'>←</a>

        <div class='brand brandCenter'>
          <div class='logo' aria-hidden='true'>
            <!-- Simple clock + S mark (inline so it works offline) -->
            <svg viewBox='0 0 64 64' width='22' height='22' focusable='false' aria-hidden='true'>
              <defs>
                <linearGradient id='g' x1='0' y1='0' x2='1' y2='1'>
                  <stop offset='0' stop-color='#1ee3a6'/>
                  <stop offset='1' stop-color='#3b82f6'/>
                </linearGradient>
              </defs>
              <circle cx='32' cy='32' r='24' fill='none' stroke='url(#g)' stroke-width='6' opacity='.95'/>
              <path d='M32 20v13l10 6' fill='none' stroke='url(#g)' stroke-width='6' stroke-linecap='round' stroke-linejoin='round'/>
              <path d='M27 38c2.7 3.2 9 3.4 12 .5 1.7-1.6 1.4-3.8-.8-4.8-1.6-.7-3.6-.9-5.5-1.5-2.7-.8-3.2-3.5-1.1-5.1 2.5-1.9 7.6-1.7 10.2.7' fill='none' stroke='rgba(255,255,255,.92)' stroke-width='3.2' stroke-linecap='round'/>
            </svg>
          </div>
          <div>
            <div class='title'>SELLENCE</div>
            <div class='subtitle'>STEMPELUHR</div>
          </div>
        </div>

        <button id='menuBtn' class='iconBtn' aria-label='Menü' type='button'>
          <span class='bars'></span>
        </button>
      </div>
    </header>

    <main class='grid'>
      <section class='card'>
        <div class='centerStack'>
          <label class='field nameField'>
            <span>Mitarbeitername</span>
            <input id='employeeName' type='text' value='z.B. Andre Schorn' placeholder='Andre Schorn' autocomplete='name'>
          </label>
          <div class='pauseNote muted tiny'>Standard-Pause: <b>30 min</b></div>

          <div class='row gap wrap center'>
            <button id='inBtn' class='btn success'>Einstempeln</button>
            <button id='outBtn' class='btn danger'>Ausstempeln</button>
            <button id='toggleOverview' class='btn ghost'>Übersicht</button>
          </div>

          <div class='stateRow'>
            <span class='stateLabel'>Status</span>
            <span id='clockState' class='stateBadge'>—</span>
          </div>

          <div id='statusLine' class='status' aria-live='polite'></div>
        </div>

        <div id='hintCard' class='hint hidden'></div>
      </section>

      <section id='overviewCard' class='card hidden'>
        <div class='row between wrap'>
          <div class='h2'>Zeiten</div>
          <div class='totals'>
            <div class='kpi'>
              <div class='kpiLabel'>Gesamt</div>
              <div id='totalHours' class='kpiValue'>0:00</div>
            </div>
            <div class='kpi'>
              <div class='kpiLabel'>Diese Woche</div>
              <div id='weekHours' class='kpiValue'>0:00</div>
            </div>
          </div>
        </div>

        <div class='filters'>
          <label class='chip'><input type='radio' name='range' value='week' checked> Woche</label>
          <label class='chip'><input type='radio' name='range' value='month'> Monat</label>
          <label class='chip'><input type='radio' name='range' value='custom'> Zeitraum</label>

          <div id='customRange' class='custom hidden'>
            <input id='fromDate' type='date'>
            <span>bis</span>
            <input id='toDate' type='date'>
          </div>

          <button id='exportBtn' class='btn small'>Export (Excel/CSV)</button>
        </div>

        <div class='listWrap'>
          <table class='table'>
            <thead>
              <tr>
                <th>Datum</th>
                <th>Start</th>
                <th>Ende</th>
                <th>Pause</th>
                <th>Netto</th>
                <th></th>
              </tr>
            </thead>
            <tbody id='rows'></tbody>
          </table>
        </div>
      </section>
    </main>

    <footer class='foot'>
      <span class='muted'>Offline-ready. Daten bleiben auf diesem Gerät.</span>
    </footer>
  </div>

  <div id='menuSheet' class='sheet' role='dialog' aria-modal='true' hidden>
    <div class='sheetCard' role='document'>
      <div class='sheetTitle'>Menü</div>
      <button id='closeMenu' class='btn ghost full' type='button'>Schließen</button>
      <button id='clearBtn' class='btn danger full' type='button'>Alle Daten löschen</button>
    </div>
  </div>

  <script src='app.js' defer></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => navigator.serviceWorker.register('sw.js'));
    }
  </script>
</body>
</html>
